# A2_PLAN_fix_calendarFrame.md

## 実装計画

### 1. 修正対象ファイル
- `app.js`

### 2. 変更内容
- **DOMContentLoaded 直後の描画**: 
    - `initSupabase()` 呼び出し前後で `renderDays()` を呼び出し、データの有無に関わらず枠を先行描画する。
- **loadDataFromSupabase の finally 化**:
    - `try/catch` 構造を整理し、`finally` ブロックで `renderDays()` を呼び出すことで、成功・失敗に関わらず必ず描画が走るようにする。

### 3. 手動テスト計画
- **T1: 未ログインテスト**
    - 手順: シークレットウィンドウで `http://localhost:8000` を開く。
    - 期待値: 起動直後にカレンダー枠が表示される。
- **T2: ログインテスト**
    - 手順: ログインを実行（またはシミュレート）し、ロード完了後を確認。
    - 期待値: ロード完了後もカレンダー枠が表示されている。
- **T3: 回帰テスト**
    - 手順: スタンプを押し、リロードして状態が維持されるか確認。おてつだいボタンも動作するか確認。
    - 期待値: 既存機能が正常に動作し、データが保存・復元される。

### 4. ロールバック手順
- `git checkout app.js` で修正を破棄する。
